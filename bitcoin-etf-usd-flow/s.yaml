edition: 1.0.0
name: my-framework-app
access: default
services:
  framework:
    component: fc
    props:
      region: cn-hongkong
      endpoint: https://1607116984302096.cn-hongkong.fc.aliyuncs.com
      service:
        name: dev-bitcoin-etf-usd-flow
        logConfig:
          project: serverless-cn-hongkong-a7cb6260-544e-5600-9d44-132520a68dbc
          logstore: default-logs
          enableRequestMetrics: true
          enableInstanceMetrics: true
          logBeginRule: DefaultRegex
      function:
        name: dev-serverless-cd-runner
        description: Initialize
        environmentVariables:
          SUPABASE_URL: ${env.SUPABASE_URL}
          SUPABASE_KEY: ${env.SUPABASE_KEY}
          PYTHONPATH: /opt/python
          PATH: /var/fc/lang/python3.10/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/bin
          COPY_TRADE_ONLY: '0'
        runtime: custom.debian10
        memorySize: 1024
        cpu: 0.25
        timeout: 300
        codeUri: ./
        diskSize: 10240
        layers:    # 函数绑定层，取值是层的ARN
         - acs:fc:cn-hongkong:1607116984302096:layers/certifi-selenium-beautifulsoup4/versions/1
         - acs:fc:cn-hongkong:1607116984302096:layers/supabase/versions/1
         - acs:fc:cn-hongkong:1607116984302096:layers/pandas/versions/1
         - acs:fc:cn-hongkong:1607116984302096:layers/libnss3/versions/3
         - acs:fc:cn-hongkong:official:layers/Python310-Package-Collection/versions/4
        customRuntimeConfig:
          command:
            - python3
            - /code/index.py